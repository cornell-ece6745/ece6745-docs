
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Christopher Batten">
      
      
      
        <link rel="prev" href="../ece6745-tut05-asic-stdcells/">
      
      
        <link rel="next" href="../ece6745-tut07-asic-back-end/">
      
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Tutorial 6: ASIC Front-End Flow - ECE 6745 Complex Digital ASIC Design</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ece-6745-tutorial-6-asic-front-end-flow" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ECE 6745 Complex Digital ASIC Design" class="md-header__button md-logo" aria-label="ECE 6745 Complex Digital ASIC Design" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ECE 6745 Complex Digital ASIC Design
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tutorial 6: ASIC Front-End Flow
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/cornell-ece6745/ece6745-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    cornell-ece6745/ece6745-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../ece6745-tut00-remote-access/" class="md-tabs__link">
          
  
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../ece6745-sec01-asic-front-end/" class="md-tabs__link">
          
  
  
  Sections

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ECE 6745 Complex Digital ASIC Design" class="md-nav__button md-logo" aria-label="ECE 6745 Complex Digital ASIC Design" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ECE 6745 Complex Digital ASIC Design
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/cornell-ece6745/ece6745-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    cornell-ece6745/ece6745-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut00-remote-access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 0: ECE Linux Server Remote Access
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut01-linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 1: Linux Development Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut02-git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 2: Git Distributed Version Control System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut05-asic-stdcells/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 5: ASIC Standard Cells
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Tutorial 6: ASIC Front-End Flow
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Tutorial 6: ASIC Front-End Flow
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-pymtl3-based-testing-simulation-translation" class="md-nav__link">
    <span class="md-ellipsis">
      1. PyMTL3-Based Testing, Simulation, Translation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. PyMTL3-Based Testing, Simulation, Translation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-implement-test-and-translate-a-sort-unit" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. Implement, Test, and Translate a Sort Unit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-interactive-simulator-for-sort-unit" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Interactive Simulator for Sort Unit
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-synopsys-vcs-for-4-state-rtl-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      2. Synopsys VCS for 4-state RTL simulation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-synopsys-design-compiler-for-synthesis" class="md-nav__link">
    <span class="md-ellipsis">
      3. Synopsys Design Compiler for Synthesis
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Synopsys Design Compiler for Synthesis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-initial-setup" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Initial Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-timing-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Timing Constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-synthesis" class="md-nav__link">
    <span class="md-ellipsis">
      3.4. Synthesis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      3.4. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-synopsys-design-vision" class="md-nav__link">
    <span class="md-ellipsis">
      3.5. Synopsys Design Vision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36-automating-synthesis" class="md-nav__link">
    <span class="md-ellipsis">
      3.6. Automating Synthesis
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-synopsys-vcs-for-fast-functional-gate-level-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      4. Synopsys VCS for Fast-Functional Gate-Level Simulation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-to-do-on-your-own" class="md-nav__link">
    <span class="md-ellipsis">
      5. To-Do On Your Own
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut07-asic-back-end/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 7: ASIC Back-End Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut08-asic-auto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 8: ASIC Automated Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut09-xcel-rtl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 9: TinyRV2 Accelerator RTL Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut10-sram/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 10: SRAM Generators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut12-spice-sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 12: SPICE Simulation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut13-dw/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 13: DesignWare and Retiming
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sections
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Sections
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-sec01-asic-front-end/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Section 1: ASIC Front-End Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-sec02-asic-back-end/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Section 2: ASIC Back-End Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-sec03-asic-auto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Section 3: ASIC Automated Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-sec04-xcel-rtl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Section 4: TinyRV2 Accelerator RTL Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-sec05-sram/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Section 5: SRAM Generators
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-pymtl3-based-testing-simulation-translation" class="md-nav__link">
    <span class="md-ellipsis">
      1. PyMTL3-Based Testing, Simulation, Translation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. PyMTL3-Based Testing, Simulation, Translation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-implement-test-and-translate-a-sort-unit" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. Implement, Test, and Translate a Sort Unit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-interactive-simulator-for-sort-unit" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Interactive Simulator for Sort Unit
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-synopsys-vcs-for-4-state-rtl-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      2. Synopsys VCS for 4-state RTL simulation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-synopsys-design-compiler-for-synthesis" class="md-nav__link">
    <span class="md-ellipsis">
      3. Synopsys Design Compiler for Synthesis
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Synopsys Design Compiler for Synthesis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-initial-setup" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Initial Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-inputs" class="md-nav__link">
    <span class="md-ellipsis">
      3.2. Inputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-timing-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      3.3. Timing Constraints
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-synthesis" class="md-nav__link">
    <span class="md-ellipsis">
      3.4. Synthesis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      3.4. Outputs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-synopsys-design-vision" class="md-nav__link">
    <span class="md-ellipsis">
      3.5. Synopsys Design Vision
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36-automating-synthesis" class="md-nav__link">
    <span class="md-ellipsis">
      3.6. Automating Synthesis
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-synopsys-vcs-for-fast-functional-gate-level-simulation" class="md-nav__link">
    <span class="md-ellipsis">
      4. Synopsys VCS for Fast-Functional Gate-Level Simulation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-to-do-on-your-own" class="md-nav__link">
    <span class="md-ellipsis">
      5. To-Do On Your Own
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="ece-6745-tutorial-6-asic-front-end-flow">ECE 6745 Tutorial 6: ASIC Front-End Flow</h1>
<p>The tutorial will discuss the key tools used for ASIC front-end flow
which includes RTL simulation, synthesis, and fast-functional gate-level
simulation. This tutorial requires entering commands manually for each of
the tools to enable students to gain a better understanding of the
detailed steps involved in this process. A later tutorial will illustrate
how this process can be automated to facilitate rapid design-space
exploration. This tutorial assumes you have already completed the
tutorials on Linux, Git, and Verilog.</p>
<p>The following diagram illustrates the five primary tools we will be using
in ECE 6745 along with a few smaller secondary tools. The tools that
make-up the ASIC front-end flow are highlighted in red. Notice that the
ASIC tools all require various views from the standard-cell library.
Before starting this tutorial, you must complete the ASIC standard-cell
tutorial so you can understand all of these views.</p>
<p><img alt="" src="../img/tut06-asic-flow-front-end.png" /></p>
<ol>
<li>
<p>We write our RTL models in Verilog, and we use the PyMTL framework to
    test, verify, and evaluate the execution time (in cycles) of our
    design. This part of the flow is very similar to the flow used in
    ECE 4750. Once we are sure our design is working correctly, we can
    then start to push the design through the flow.</p>
</li>
<li>
<p>We use <strong>Synopsys VCS</strong> to compile and run both 4-state RTL and
    gate-level simulations. These simulations help us to build confidence
    in our design as we push our designs through different stages of the
    flow. From these simulations, we also generate waveforms in <code>.vcd</code>
    (Verilog Change Dump) format, and per-net average activity factors
    stored in <code>.saif</code> format. These activity factors will be used for
    power analysis. Gate-level simulation is an valuable tool for
    ensuring the tools did not optimize something away which impacts the
    correctness of the design, and also provides an avenue for obtaining
    a more accurate power analysis than RTL simulation. While static
    timing analysis (STA) analyzes all paths, GL simulation can also
    serve as a backup to check for hold and setup time violations (chip
    designers must be paranoid!)</p>
</li>
<li>
<p>We use <strong>Synopsys Design Compiler (DC)</strong> to synthesize our design,
    which means to transform the Verilog RTL model into a Verilog
    gate-level netlist where all of the gates are selected from the
    standard-cell library. We need to provide Synopsys DC with abstract
    logical and timing views of the standard-cell library in <code>.db</code>
    format. In addition to the Verilog gate-level netlist, Synopsys DC
    can also generate a <code>.ddc</code> file which contains information about the
    gate-level netlist and timing, and this <code>.ddc</code> file can be inspected
    using Synopsys Design Vision (DV). We will also use Synopsys DC to
    generate a <code>.sdc</code> which captures timing constraints which can then be
    used as input to the place-and-route tool.</p>
</li>
<li>
<p>We use <strong>Cadence Innovus</strong> to place-and-route our design, which means
    to place all of the gates in the gate-level netlist into rows on the
    chip and then to generate the metal wires that connect all of the
    gates together. We need to provide Cadence Innovus with the same
    abstract logical and timing views used in Synopsys DC, but we also
    need to provide Cadence Innovus with technology information in
    <code>.lef</code>, and <code>.captable</code> format and abstract physical views of the
    standard-cell library also in <code>.lef</code> format. Cadence Innovus will
    generate an updated Verilog gate-level netlist, a <code>.spef</code> file which
    contains parasitic resistance/capacitance information about all nets
    in the design, and a <code>.gds</code> file which contains the final layout. The
    <code>.gds</code> file can be inspected using the open-source Klayout GDS
    viewer. Cadence Innovus also generates reports which can be used to
    accurately characterize area and timing.</p>
</li>
<li>
<p>We use <strong>Synopsys PrimeTime (PT)</strong> to perform power analysis of our
    design. We need to provide Synopsys PT with the same abstract
    logical, timing, and power views used in Synopsys DC and Cadence
    Innovus, but in addition we need to provide switching activity
    information for every net in the design (which comes from the <code>.saif</code>
    file), and capacitance information for every net in the design (which
    comes from the <code>.spef</code> file). Synopsys PT puts the switching
    activity, capacitance, clock frequency, and voltage together to
    estimate the power consumption of every net and thus every module in
    the design, and these estimates are captured in various reports.</p>
</li>
</ol>
<p>Extensive documentation is provided by Synopsys and Cadence for these
ASIC tools. We have organized this documentation and made it available to
you on the public course webpage:</p>
<ul>
<li><a href="https://www.csl.cornell.edu/courses/ece6745/asicdocs">https://www.csl.cornell.edu/courses/ece6745/asicdocs</a></li>
</ul>
<p>The first step is to access <code>ecelinux</code>. Use VS Code to log into a
specific <code>ecelinux</code> server and then use Microsoft Remote Desktop to log
into the same server. Once you are at the <code>ecelinux</code> prompt, source the
setup script, source the GUI setup script, clone this repository from
GitHub, and define an environment variable to keep track of the top
directory for the project.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>%<span class="w"> </span><span class="nb">source</span><span class="w"> </span>setup-ece6745.sh
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>%<span class="w"> </span><span class="nb">source</span><span class="w"> </span>setup-gui.sh
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>%<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$HOME</span>/ece6745
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$HOME</span>/ece6745
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>%<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:cornell-ece6745/ece6745-tut06-asic-front-end<span class="w"> </span>tut06
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>tut06
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>%<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">TOPDIR</span><span class="o">=</span><span class="nv">$PWD</span>
</span></code></pre></div>
<h2 id="1-pymtl3-based-testing-simulation-translation">1. PyMTL3-Based Testing, Simulation, Translation</h2>
<p>Our goal in this tutorial is to generate a gate-level netlist for the
sort unit from the Verilog tutorial using the ASIC tools. As a reminder,
the sort unit takes as input four integers and a valid bit and outputs
those same four integers in increasing order with the valid bit. The sort
unit is implemented using a three-stage pipelined, bitonic sorting
network and the datapath is shown below.</p>
<p><img alt="" src="../img/tut06-sort-unit-dpath.png" /></p>
<h3 id="11-implement-test-and-translate-a-sort-unit">1.1. Implement, Test, and Translate a Sort Unit</h3>
<p>Let's start by running the tests for the sort unit and note that the
tests for the <code>SortUnitStruct</code> will fail.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>%<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$TOPDIR</span>/sim/build
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/sim/build
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>%<span class="w"> </span>pytest<span class="w"> </span>../tut3_verilog/sort
</span></code></pre></div>
<p>You can just copy over your implementation of the <code>MinMaxUnit</code> from when
you completed the Verilog tutorial. If you have not completed the Verilog
tutorial then you might want to go back and do that now. Basically the
<code>MinMaxUnit</code> should look like this:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">module</span> <span class="n">tut3_verilog_sort_MinMaxUnit</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="c1">#(</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>  <span class="n">parameter</span> <span class="n">p_nbits</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="p">)(</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>  <span class="nb">input</span>  <span class="n">logic</span> <span class="p">[</span><span class="n">p_nbits</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">in0</span><span class="p">,</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>  <span class="nb">input</span>  <span class="n">logic</span> <span class="p">[</span><span class="n">p_nbits</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">in1</span><span class="p">,</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>  <span class="n">output</span> <span class="n">logic</span> <span class="p">[</span><span class="n">p_nbits</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">out_min</span><span class="p">,</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>  <span class="n">output</span> <span class="n">logic</span> <span class="p">[</span><span class="n">p_nbits</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="n">out_max</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="p">);</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>  <span class="n">always_comb</span> <span class="n">begin</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>    <span class="o">//</span> <span class="n">Find</span> <span class="nb">min</span><span class="o">/</span><span class="nb">max</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>    <span class="k">if</span> <span class="p">(</span> <span class="n">in0</span> <span class="o">&gt;=</span> <span class="n">in1</span> <span class="p">)</span> <span class="n">begin</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>      <span class="n">out_max</span> <span class="o">=</span> <span class="n">in0</span><span class="p">;</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>      <span class="n">out_min</span> <span class="o">=</span> <span class="n">in1</span><span class="p">;</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>    <span class="n">end</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span> <span class="n">in0</span> <span class="o">&lt;</span> <span class="n">in1</span> <span class="p">)</span> <span class="n">begin</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>      <span class="n">out_max</span> <span class="o">=</span> <span class="n">in1</span><span class="p">;</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>      <span class="n">out_min</span> <span class="o">=</span> <span class="n">in0</span><span class="p">;</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a>    <span class="n">end</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>    <span class="o">//</span> <span class="n">Handle</span> <span class="n">case</span> <span class="n">where</span> <span class="n">there</span> <span class="ow">is</span> <span class="n">an</span> <span class="n">X</span> <span class="ow">in</span> <span class="n">the</span> <span class="nb">input</span>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a>    <span class="k">else</span> <span class="n">begin</span>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a>      <span class="n">out_min</span> <span class="o">=</span> <span class="s1">&#39;x;</span>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a>      <span class="n">out_max</span> <span class="o">=</span> <span class="s1">&#39;x;</span>
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a>    <span class="n">end</span>
</span><span id="__span-2-30"><a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a>
</span><span id="__span-2-31"><a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a>  <span class="n">end</span>
</span><span id="__span-2-32"><a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a>
</span><span id="__span-2-33"><a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a><span class="n">endmodule</span>
</span></code></pre></div>
<p>Once you have your design working rerun the tests with the
<code>--test-verilog</code> and <code>--dump-vtb</code> command line options.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/sim/build
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>%<span class="w"> </span>pytest<span class="w"> </span>../tut3_verilog/sort<span class="w"> </span>--test-verilog<span class="w"> </span>--dump-vtb
</span></code></pre></div>
<p>The <code>--test-verilog</code> and <code>--dump-vtb</code> command line options tells the
PyMTL3 framework to dump a Verilog testbench. While PyMTL3 enables
combining Python testbenches with Verilator Verilog simulation, we need
to translate our testbenches to Verilog so that we can use Synopsys VCS
to do 4-state and gate-level simulation. Let's look at a testbench cases
file generated from using the <code>--dump-vtb</code> flag.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/sim/build
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>%<span class="w"> </span>cat<span class="w"> </span>SortUnitStruct__p_nbits_8_test_basic_tb.v.cases
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w"> </span><span class="sb">`</span>T<span class="o">(</span><span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h0,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h0<span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w"> </span><span class="sb">`</span>T<span class="o">(</span><span class="s1">&#39;h04,&#39;</span>h02,<span class="s1">&#39;h03,&#39;</span>h01,<span class="s1">&#39;h1,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h0<span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w"> </span><span class="sb">`</span>T<span class="o">(</span><span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h0,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h0<span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w"> </span><span class="sb">`</span>T<span class="o">(</span><span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h0,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h0<span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w"> </span><span class="sb">`</span>T<span class="o">(</span><span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h0,&#39;</span>h01,<span class="s1">&#39;h02,&#39;</span>h03,<span class="s1">&#39;h04,&#39;</span>h1<span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w"> </span><span class="sb">`</span>T<span class="o">(</span><span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h0,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h0<span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w"> </span><span class="sb">`</span>T<span class="o">(</span><span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h0,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h0<span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w"> </span><span class="sb">`</span>T<span class="o">(</span><span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h0,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h0<span class="o">)</span><span class="p">;</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w"> </span><span class="sb">`</span>T<span class="o">(</span><span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h0,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h00,<span class="s1">&#39;h00,&#39;</span>h0<span class="o">)</span><span class="p">;</span>
</span></code></pre></div>
<p>This file is generated by logging the inputs and outputs of the Verilator
RTL simulation each cycle. It will be passed into a Verilog testbench
runner that will use these values to set the inputs each cycle and to
verify the outputs each cycle. So note that when we utilize these
testbenches later on, we are running a simulation that is simply
confirming that we acheive the same behavior as the Verilator RTL
simulation we ran using PyMTL3, and it is not actually using any
assertions you wrote in your Python tests for your design. Therefore, it
is important that your RTL simulations pass using PyMTL3 and Verilator
before you move on to other simulations. Also take a look at the
testbench itself to get a sense for how it works. It essentially
instantiates your top module as <code>DUT</code>, sets the inputs, and performs a
check every cycle on the outputs.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/sim/build
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>%<span class="w"> </span>less<span class="w"> </span>SortUnitStruct__p_nbits_8_test_basic_tb.v
</span></code></pre></div>
<h3 id="22-interactive-simulator-for-sort-unit">2.2. Interactive Simulator for Sort Unit</h3>
<p>After running the tests we use the interactive simulator for the sort
unit to do the final evaluation.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/sim/build
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>%<span class="w"> </span>../tut3_verilog/sort/sort-sim<span class="w"> </span>--short-mname<span class="w"> </span>--impl<span class="w"> </span>rtl-struct<span class="w"> </span>--stats<span class="w"> </span><span class="se">\</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">                                </span>--translate<span class="w"> </span>--dump-vtb
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="nv">num_cycles</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="m">106</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="nv">num_cycles_per_sort</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span>.06
</span></code></pre></div>
<p>Take a moment to open up the translated Verilog which should be in a file
named <code>SortUnitStruct__pickled.v</code>. The Verilog module name includes a
suffix to make it unique for a specific set of parameters.</p>
<h2 id="2-synopsys-vcs-for-4-state-rtl-simulation">2. Synopsys VCS for 4-state RTL simulation</h2>
<p>Using the PyMTL simulation framework can give us a good foundation in
verifying a design. However, the Verilator RTL simulator is only a
2-state simulation, meaning a signal can only be <code>0</code> or <code>1</code>. An
alternative form of RTL simulation is a 4-state simulation, in which
signals can be <code>0</code>, <code>1</code>, <code>x</code>, or <code>z</code>.</p>
<p>It is important to note a key difference between 2-state and 4-state
simulation. In 2-state simulation, each variable is initialized to a
predetermined value. This initial condition assumption may or may not be
what happens in actual silicon! As a result, a different initial
condition could introduce a bug that was not caught by our 2-state
Verilator RTL simulation. In 4-state simulations no such assumptions are
made. Instead, every signal begins as <code>x</code>, and only resolves to a <code>0</code> or
<code>1</code> after it is driven or resolved using x-propagation. Consider the
following pseudocode:</p>
<div class="language-verilog highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="k">always</span><span class="w"> </span><span class="p">@(</span><span class="o">*</span><span class="p">)</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="k">begin</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">control_signal</span><span class="w"> </span><span class="p">)</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="c1">// set signal &quot;signal_a&quot;, but bug causes chip to fail</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">  </span><span class="k">else</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">    </span><span class="c1">// set signal &quot;signal_a&quot; such that everything works fine</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="k">end</span>
</span></code></pre></div>
<p>If <code>control_signal</code> is not reset, then in 2-state simulation if you
initialize all state to zero it will look like the chip works fine, but
this is not a safe assumption! The real chip does not guarantee that all
state is initialized to zero, so we can model that in four state
simulation as an <code>x</code>. Since the control signal could initialize to 1,
this could non-deterministically cause the chip to fail! What you would
see in simulation is that <code>signal_a</code> would become an <code>x</code>, because we do
not know the value of <code>control_signal</code> on reset. This <code>x</code> is propagated
through the design, and some simulators are more optimistic/pessimistic
about x's than others. For example, a pessimistic simulator may just
assume that any piece of logic that has an x on the input, outputs an x.
This is pessimistic because it is <em>possible</em> that you can still resolve
the output (imagine a mux where two inputs are the same but the select
bit is an <code>x</code>). Optimism is the opposite, resolving signals to <code>0</code> or <code>1</code>
that should remain an <code>x</code>.</p>
<p>If your design is passing every 2-state simulation, but failing every
4-state simulation, it may be because invalid fields are being set to
<code>x</code>'s. Our test harnesses require all outputs to always be <code>0</code> or <code>1</code>
even if a field is invalid. So you may need to force invalid fields to
zero and ensure that during a correct execution the outputs of your
module are never <code>x</code>'s. You can see this in the implementation of
<code>SortUnitStruct</code>:</p>
<div class="language-verilog highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">assign</span><span class="w"> </span><span class="n">out_val</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">val_S3</span><span class="p">;</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="k">assign</span><span class="w"> </span><span class="n">out0</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">elm0_S3</span><span class="w">         </span><span class="o">&amp;</span><span class="w"> </span><span class="p">{</span><span class="n">p_nbits</span><span class="p">{</span><span class="n">val_S3</span><span class="p">}};</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="k">assign</span><span class="w"> </span><span class="n">out1</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">mmuA_out_min_S3</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">{</span><span class="n">p_nbits</span><span class="p">{</span><span class="n">val_S3</span><span class="p">}};</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="k">assign</span><span class="w"> </span><span class="n">out2</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">mmuA_out_max_S3</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">{</span><span class="n">p_nbits</span><span class="p">{</span><span class="n">val_S3</span><span class="p">}};</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="k">assign</span><span class="w"> </span><span class="n">out3</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">elm3_S3</span><span class="w">         </span><span class="o">&amp;</span><span class="w"> </span><span class="p">{</span><span class="n">p_nbits</span><span class="p">{</span><span class="n">val_S3</span><span class="p">}};</span>
</span></code></pre></div>
<p>We run Synopsys VCS to compile a simulation, and <code>./simv</code> to run the
simulation. Let's run a 4-state simulation for <code>test_basic</code> using the
design <code>SortUnitStruct__pickled.v</code>.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-sort/01-synopsys-vcs-rtlsim
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>%<span class="w"> </span>vcs<span class="w"> </span>-sverilog<span class="w"> </span>-xprop<span class="o">=</span>tmerge<span class="w"> </span>-override_timescale<span class="o">=</span>1ns/1ps<span class="w"> </span>-top<span class="w"> </span>Top<span class="w"> </span><span class="se">\</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span>+vcs+dumpvars+waves.vcd<span class="w"> </span><span class="se">\</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span>+incdir+<span class="si">${</span><span class="nv">TOPDIR</span><span class="si">}</span>/sim/build<span class="w"> </span><span class="se">\</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">    </span><span class="si">${</span><span class="nv">TOPDIR</span><span class="si">}</span>/sim/build/SortUnitStruct__p_nbits_8_test_basic_tb.v<span class="w"> </span><span class="se">\</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">    </span><span class="si">${</span><span class="nv">TOPDIR</span><span class="si">}</span>/sim/build/SortUnitStruct__p_nbits_8__pickled.v
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>%<span class="w"> </span>./simv
</span></code></pre></div>
<p>Here some of the key command line options for Synopsys VCS:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>-sverilog                     indicates we are using SystemVerilog
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>-xprop=tmerge                 use more advanced X propoagation
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>-override_timescale=1ns/1ps   changes the timescale. Units/precision
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>-top Top                      name of the top module (located within the VTB)
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>+vcs+dumpvars+filename.vcd    dump VCD in current dir with the name filename.vcd
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>+incdir+$TOPDIR/sim/build     specifies directories to search for `include
</span></code></pre></div>
<p>Synopsys VCS is a sophisticated tool with many command line options. If
you want to learn more on your own about other options that are available
to you with Synopsys VCS, you can look at the user guides on the course
webpage:</p>
<ul>
<li><a href="https://www.csl.cornell.edu/courses/ece6745/asicdocs">https://www.csl.cornell.edu/courses/ece6745/asicdocs</a></li>
</ul>
<p>Open up the resulting VCD filea and notice how all of the input ports
start as X values and then eventually become non-X values after reset.
Notice how the pipeline registers are not reset so it takes a few cycles
for them to be output non-X values.</p>
<p><img alt="" src="../img/tut06-waves.png" /></p>
<p>Let's run another 4-state simulation, this time using the testbench from
the sort-rtl simulator run that we ran earlier. Note that while we can
use this VCD for power analysis, for the purposes of this tutorial we
will only be doing power analysis using the gate-level netlist.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-sort/01-synopsys-vcs-rtlsim
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>%<span class="w"> </span>vcs<span class="w"> </span>-sverilog<span class="w"> </span>-xprop<span class="o">=</span>tmerge<span class="w"> </span>-override_timescale<span class="o">=</span>1ns/1ps<span class="w"> </span>-top<span class="w"> </span>Top<span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">      </span>+vcs+dumpvars+waves.vcd<span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">      </span>+incdir+<span class="si">${</span><span class="nv">TOPDIR</span><span class="si">}</span>/sim/build<span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">      </span><span class="si">${</span><span class="nv">TOPDIR</span><span class="si">}</span>/sim/build/SortUnitStruct_random_tb.v<span class="w"> </span><span class="se">\</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">      </span><span class="si">${</span><span class="nv">TOPDIR</span><span class="si">}</span>/sim/build/SortUnitStruct__pickled.v
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>%<span class="w"> </span>./simv
</span></code></pre></div>
<p>To simplify rerunning a simulation, we can put the above command lines in
a shell script. We have created such a run script for you. Let's take a
look to confirm these scripts match the manual commands we used above.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-sort
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>%<span class="w"> </span>cat<span class="w"> </span>./01-synopsys-vcs-rtlsim/run
</span></code></pre></div>
<p>You can rerun four-state RTL simulation as follows.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-sort
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>%<span class="w"> </span>./01-synopsys-vcs-rtlsim/run
</span></code></pre></div>
<h2 id="3-synopsys-design-compiler-for-synthesis">3. Synopsys Design Compiler for Synthesis</h2>
<p>We use Synopsys Design Compiler (DC) to synthesize Verilog RTL models
into a gate-level netlist where all of the gates are from the standard
cell library. So Synopsys DC will synthesize the Verilog <code>+</code> operator
into a specific arithmetic block at the gate-level. Based on various
constraints it may synthesize a ripple-carry adder, a carry-look-ahead
adder, or even more advanced parallel-prefix adders.</p>
<p>We start by creating a subdirectory for our work, and then launching
Synopsys DC.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-sort/02-synopsys-dc-synth
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>%<span class="w"> </span>dc_shell-xg-t
</span></code></pre></div>
<p>To make it easier to copy-and-paste commands from this document, we tell
Synopsys DC to ignore the prefix <code>dc_shell&gt;</code> using the following:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>dc_shell&gt; alias &quot;dc_shell&gt;&quot; &quot;&quot;
</span></code></pre></div>
<h3 id="31-initial-setup">3.1. Initial Setup</h3>
<p>There are two important variables we need to set before starting to work
in Synopsys DC. The <code>target_library</code> variable specifies the standard
cells that Synopsys DC should use when synthesizing the RTL. The
<code>link_library</code> variable should search the standard cells, but can also
search other cells (e.g., SRAMs) when trying to resolve references in our
design. These other cells are not meant to be available for Synopsys DC
to use during synthesis, but should be used when resolving references.
Including <code>*</code> in the <code>link_library</code> variable indicates that Synopsys DC
should also search all cells inside the design itself when resolving
references.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>dc_shell&gt; set_app_var target_library &quot;$env(ECE6745_STDCELLS)/stdcells.db&quot;
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>dc_shell&gt; set_app_var link_library   &quot;* $env(ECE6745_STDCELLS)/stdcells.db&quot;
</span></code></pre></div>
<p>Note that we can use <code>$env(ECE6745_STDCELLS)</code> to get access to the
<code>$ECE6745_STDCELLS</code> environment variable which specifies the directory
containing the standard cells, and that we are referencing the abstract
logical and timing views in the <code>.db</code> format.</p>
<p>We also need to tell Synopsys DC not use scan flip-flops and clock-gating
cells which are included in our standard-cell library. If Synopsys DC
uses these cells it can cause isses with gate-level simulation. We can do
this using the <code>set_dont_use</code> command as follows.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>dc_shell&gt; set_dont_use -power {
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>  NangateOpenCellLibrary/SDFF_X1
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>  NangateOpenCellLibrary/SDFF_X2
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>  NangateOpenCellLibrary/SDFFS_X1
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>  NangateOpenCellLibrary/SDFFS_X2
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>  NangateOpenCellLibrary/SDFFR_X1
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>  NangateOpenCellLibrary/SDFFR_X2
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>  NangateOpenCellLibrary/SDFFRS_X1
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a>  NangateOpenCellLibrary/SDFFRS_X2
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a>  NangateOpenCellLibrary/CLKGATETST_X1
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>  NangateOpenCellLibrary/CLKGATETST_X2
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a>  NangateOpenCellLibrary/CLKGATETST_X4
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a>  NangateOpenCellLibrary/CLKGATETST_X8
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>}
</span></code></pre></div>
<h3 id="32-inputs">3.2. Inputs</h3>
<p>As an aside, if you want to learn more about any command in any Synopsys
tool, you can simply type <code>man toolname</code> at the shell prompt. We are now
ready to read in the Verilog file which contains the top-level design and
all referenced modules. We do this with two commands. The <code>analyze</code>
command reads the Verilog RTL into an intermediate internal
representation. The <code>elaborate</code> command recursively resolves all of the
module references starting from the top-level module, and also infers
various registers and/or advanced data-path components.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>dc_shell&gt; analyze -format sverilog ../../../sim/build/SortUnitStruct__pickled.v
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>dc_shell&gt; elaborate SortUnitStruct
</span></code></pre></div>
<h3 id="33-timing-constraints">3.3. Timing Constraints</h3>
<p>We need to create a clock constraint to tell Synopsys DC what our target
cycle time is. Synopsys DC will not synthesize a design to run "as fast
as possible". Instead, the designer gives Synopsys DC a target cycle time
and the tool will try to meet this constraint while minimizing area and
power. The <code>create_clock</code> command takes the name of the clock signal in
the Verilog (which in this course will always be <code>clk</code>), the label to
give this clock (i.e., <code>ideal_clock1</code>), and the target clock period in
nanoseconds. So in this example, we are asking Synopsys DC to see if it
can synthesize the design to run at 1.4GHz (i.e., a cycle time of 700ps).</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>dc_shell&gt; create_clock clk -name ideal_clock1 -period 0.7
</span></code></pre></div>
<p>In addition to the clock constraint we also need to constrain the max
transition time to ensure no net takes a very long time to transition.
Here we constrain the max transition to be 250ps.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>dc_shell&gt; set_max_transition 0.250 SortUnitStruct
</span></code></pre></div>
<p>We need to constrain what kind of cells are expected to drive the input
pins and what kind of load is expected at the output pin so Synopsys DC
can properly synthesize the design. here we constrain the input cells to
be inverters with 2x drive strength and the output load to be 7fF.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>dc_shell&gt; set_driving_cell -no_design_rule -lib_cell INV_X2 [all_inputs]
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>dc_shell&gt; set_load -pin_load 7 [all_outputs]
</span></code></pre></div>
<p>In an ideal world, all inputs would change immediately with the clock
edge. In reality, this is not the case since there will be some logic
before this block on the chip as shown in the following figure.</p>
<p><img alt="" src="../img/tut06-input-delays.png" /></p>
<p>We need to include reasonable propagation and contamination delays for
the input ports so Synopsys DC can factor these into its timing analysis.
Here, we choose the max input delay constraint to be 50ps (i.e., the
block needs to meet the setup time constraints even if the inputs change
50ps after the rising edge of the clock), and we choose the min input
delay constraint to be 0ps (i.e., the block needs to meet the hold time
constraints even if the inputs change right on the rising edge clock).</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>dc_shell&gt; set_input_delay -clock ideal_clock1 -max 0.050 [all_inputs -exclude_clock_ports]
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>dc_shell&gt; set_input_delay -clock ideal_clock1 -min 0.000 [all_inputs -exclude_clock_ports]
</span></code></pre></div>
<p>We also need to constrain the output ports since there will be some logic
after this block on the chip as shown in the following figure.</p>
<p><img alt="" src="../img/tut06-output-delays.png" /></p>
<p>We need to include reasonable setup and hold time constraints for the
output ports so Synopsys DC can factor these into into its timing
analysis. Here we choose a setup time constraint of 50ps meaning the
output data must be stable 50ps before the rising edge of the clock, and
we choose a hold time constraint of 0ps meaning the outputs can change
right on the rising edge of the clock.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>dc_shell&gt; set_output_delay -clock ideal_clock1 -max 0.050 [all_outputs]
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>dc_shell&gt; set_output_delay -clock ideal_clock1 -min 0.000 [all_outputs]
</span></code></pre></div>
<p>Finally we also need to constraint any combinational paths which go
directly from the input ports to the output ports. Here we constrain such
paths to be no longer than one cycle cycle.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>dc_shell&gt; set_max_delay 0.7 -from [all_inputs -exclude_clock_ports] -to [all_outputs]
</span></code></pre></div>
<p>Once we have finished setting all of the constraints we can use
<code>check_timing</code> to make sure there are no unconstrained paths or other
issues.</p>
<h3 id="34-synthesis">3.4. Synthesis</h3>
<p>We can use the <code>check_design</code> command to make sure there are no obvious
errors in our Verilog RTL.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>dc_shell&gt; check_design
</span></code></pre></div>
<p>It is <em>critical</em> that you carefully review all warnings and errors when
you analyze and elaborate a design with Synopsys DC. There may be many
warnings, but you should still skim through them. Often times there will
be something very wrong in your Verilog RTL which means any results from
using the ASIC tools is completely bogus. Synopsys DC will output a
warning, but Synopsys DC will usually just keep going, potentially
producing a completely incorrect gate-level model!</p>
<p>Finally, the <code>compile</code> command will do the synthesis.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>dc_shell&gt; compile
</span></code></pre></div>
<p>During synthesis, Synopsys DC will display information about its
optimization process. It will report on its attempts to map the RTL into
standard-cells, optimize the resulting gate-level netlist to improve the
delay, and then optimize the final design to save area.</p>
<p>The <code>compile</code> command does not <em>flatten</em> your design. Flatten means to
remove module hierarchy boundaries; so instead of having module A and
module B within module C, Synopsys DC will take all of the logic in
module A and module B and put it directly in module C. You can enable
flattening with the <code>-ungroup_all</code> option. Without extra hierarchy
boundaries, Synopsys DC is able to perform more optimizations and
potentially achieve better area, energy, and timing. However, an
unflattened design is much easier to analyze, since if there is a module
A in your RTL design that same module will always be in the synthesized
gate-level netlist.</p>
<p>The <code>compile</code> command does not perform many optimizations. Synopsys DC
also includes <code>compile_ultra</code> which does many more optimizations and will
likely produce higher quality of results. Keep in mind that the <code>compile</code>
command <em>will not</em> flatten your design by default, while the
<code>compile_ultra</code> command <em>will</em> flattened your design by default. You can
turn off flattening by using the <code>-no_autoungroup</code> option with the
<code>compile_ultra</code> command. <code>compile_ultra</code> also has the option
<code>-gate_clock</code> which automatically performs clock gating on your design,
which can save quite a bit of power. Once you finish this tutorial, feel
free to go back and experiment with this command.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>dc_shell&gt; compile_ultra -no_autoungroup -gate_clock`
</span></code></pre></div>
<h3 id="34-outputs">3.4. Outputs</h3>
<p>Now that we have synthesized the design, we output the resulting
gate-level netlist in two different file formats: <code>.ddc</code> (which we will
use with Synopsys DesignVision) and Verilog. We also output an <code>.sdc</code>
file which contains the constraint information we gave Synopsys DC. We
will pass this same constraint information to Cadence Innovus during the
place and route portion of the flow.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>dc_shell&gt; write -format ddc     -hierarchy -output post-synth.ddc
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>dc_shell&gt; write -format verilog -hierarchy -output post-synth.v
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>dc_shell&gt; write_sdc post-synth.sdc
</span></code></pre></div>
<p>We can use various commands to generate reports about timing and area.
The <code>report_timing</code> command will show the critical path through the
design. Part of the report is displayed below.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>dc_shell&gt; report_timing -nets
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a> Point                                      Fanout Incr  Path
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a> ---------------------------------------------------------------
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a> clock ideal_clock1 (rise edge)                    0.00  0.00
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a> clock network delay (ideal)                       0.00  0.00
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a> v/elm1_S0S1/q_reg[1]/CK (DFF_X1)                  0.00  0.00 r
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a> v/elm1_S0S1/q_reg[1]/Q (DFF_X1)                   0.08  0.08 f
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a> v/elm1_S0S1/q[1] (net)                     2      0.00  0.08 f
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a> v/elm1_S0S1/q[1] (vc_Reg_p_nbits8_11)             0.00  0.08 f
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a> v/elm1_S1[1] (net)                                0.00  0.08 f
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a> v/mmuA_S1/in1[1] (MinMaxUnit)                     0.00  0.08 f
</span><span id="__span-29-12"><a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a> v/mmuA_S1/in1[1] (net)                            0.00  0.08 f
</span><span id="__span-29-13"><a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a> v/mmuA_S1/U10/ZN (INV_X1)                         0.04  0.12 r
</span><span id="__span-29-14"><a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a> v/mmuA_S1/n22 (net)                        3      0.00  0.12 r
</span><span id="__span-29-15"><a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a> v/mmuA_S1/U45/ZN (AOI21_X1)                       0.03  0.15 f
</span><span id="__span-29-16"><a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a> v/mmuA_S1/n8 (net)                         1      0.00  0.15 f
</span><span id="__span-29-17"><a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a> v/mmuA_S1/U46/ZN (AOI222_X1)                      0.09  0.24 r
</span><span id="__span-29-18"><a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a> v/mmuA_S1/n9 (net)                         1      0.00  0.24 r
</span><span id="__span-29-19"><a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a> v/mmuA_S1/U9/ZN (NOR3_X1)                         0.03  0.27 f
</span><span id="__span-29-20"><a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a> v/mmuA_S1/n10 (net)                        1      0.00  0.27 f
</span><span id="__span-29-21"><a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a> v/mmuA_S1/U6/ZN (NOR3_X1)                         0.06  0.33 r
</span><span id="__span-29-22"><a id="__codelineno-29-22" name="__codelineno-29-22" href="#__codelineno-29-22"></a> v/mmuA_S1/n11 (net)                        1      0.00  0.33 r
</span><span id="__span-29-23"><a id="__codelineno-29-23" name="__codelineno-29-23" href="#__codelineno-29-23"></a> v/mmuA_S1/U3/ZN (NOR3_X1)                         0.03  0.36 f
</span><span id="__span-29-24"><a id="__codelineno-29-24" name="__codelineno-29-24" href="#__codelineno-29-24"></a> v/mmuA_S1/n12 (net)                        1      0.00  0.36 f
</span><span id="__span-29-25"><a id="__codelineno-29-25" name="__codelineno-29-25" href="#__codelineno-29-25"></a> v/mmuA_S1/U47/ZN (AOI221_X1)                      0.08  0.44 r
</span><span id="__span-29-26"><a id="__codelineno-29-26" name="__codelineno-29-26" href="#__codelineno-29-26"></a> v/mmuA_S1/n13 (net)                        1      0.00  0.44 r
</span><span id="__span-29-27"><a id="__codelineno-29-27" name="__codelineno-29-27" href="#__codelineno-29-27"></a> v/mmuA_S1/U48/ZN (OAI22_X1)                       0.05  0.49 f
</span><span id="__span-29-28"><a id="__codelineno-29-28" name="__codelineno-29-28" href="#__codelineno-29-28"></a> v/mmuA_S1/n15 (net)                        2      0.00  0.49 f
</span><span id="__span-29-29"><a id="__codelineno-29-29" name="__codelineno-29-29" href="#__codelineno-29-29"></a> v/mmuA_S1/U27/ZN (OAI21_X1)                       0.04  0.53 r
</span><span id="__span-29-30"><a id="__codelineno-29-30" name="__codelineno-29-30" href="#__codelineno-29-30"></a> v/mmuA_S1/N1 (net)                         1      0.00  0.53 r
</span><span id="__span-29-31"><a id="__codelineno-29-31" name="__codelineno-29-31" href="#__codelineno-29-31"></a> v/mmuA_S1/U49/ZN (INV_X2)                         0.06  0.59 f
</span><span id="__span-29-32"><a id="__codelineno-29-32" name="__codelineno-29-32" href="#__codelineno-29-32"></a> v/mmuA_S1/n23 (net)                        6      0.00  0.59 f
</span><span id="__span-29-33"><a id="__codelineno-29-33" name="__codelineno-29-33" href="#__codelineno-29-33"></a> v/mmuA_S1/U43/ZN (OAI22_X1)                       0.06  0.65 r
</span><span id="__span-29-34"><a id="__codelineno-29-34" name="__codelineno-29-34" href="#__codelineno-29-34"></a> v/mmuA_S1/out_max[7] (net)                 1      0.00  0.65 r
</span><span id="__span-29-35"><a id="__codelineno-29-35" name="__codelineno-29-35" href="#__codelineno-29-35"></a> v/mmuA_S1/out_max[7] (MinMaxUnit)                 0.00  0.65 r
</span><span id="__span-29-36"><a id="__codelineno-29-36" name="__codelineno-29-36" href="#__codelineno-29-36"></a> v/mmuA_out_max_S1[7] (net)                        0.00  0.65 r
</span><span id="__span-29-37"><a id="__codelineno-29-37" name="__codelineno-29-37" href="#__codelineno-29-37"></a> v/elm1_S1S2/d[7] (vc_Reg_p_nbits8_7)              0.00  0.65 r
</span><span id="__span-29-38"><a id="__codelineno-29-38" name="__codelineno-29-38" href="#__codelineno-29-38"></a> v/elm1_S1S2/d[7] (net)                            0.00  0.65 r
</span><span id="__span-29-39"><a id="__codelineno-29-39" name="__codelineno-29-39" href="#__codelineno-29-39"></a> v/elm1_S1S2/q_reg[7]/D (DFF_X1)                   0.01  0.66 r
</span><span id="__span-29-40"><a id="__codelineno-29-40" name="__codelineno-29-40" href="#__codelineno-29-40"></a> data arrival time                                       0.66
</span><span id="__span-29-41"><a id="__codelineno-29-41" name="__codelineno-29-41" href="#__codelineno-29-41"></a>
</span><span id="__span-29-42"><a id="__codelineno-29-42" name="__codelineno-29-42" href="#__codelineno-29-42"></a> clock ideal_clock1 (rise edge)                    0.70  0.70
</span><span id="__span-29-43"><a id="__codelineno-29-43" name="__codelineno-29-43" href="#__codelineno-29-43"></a> clock network delay (ideal)                       0.00  0.70
</span><span id="__span-29-44"><a id="__codelineno-29-44" name="__codelineno-29-44" href="#__codelineno-29-44"></a> v/elm1_S1S2/q_reg[7]/CK (DFF_X1)                  0.00  0.70 r
</span><span id="__span-29-45"><a id="__codelineno-29-45" name="__codelineno-29-45" href="#__codelineno-29-45"></a> library setup time                               -0.04  0.66
</span><span id="__span-29-46"><a id="__codelineno-29-46" name="__codelineno-29-46" href="#__codelineno-29-46"></a> data required time                                      0.66
</span><span id="__span-29-47"><a id="__codelineno-29-47" name="__codelineno-29-47" href="#__codelineno-29-47"></a> ---------------------------------------------------------------
</span><span id="__span-29-48"><a id="__codelineno-29-48" name="__codelineno-29-48" href="#__codelineno-29-48"></a> data required time                                      0.66
</span><span id="__span-29-49"><a id="__codelineno-29-49" name="__codelineno-29-49" href="#__codelineno-29-49"></a> data arrival time                                       0.66
</span><span id="__span-29-50"><a id="__codelineno-29-50" name="__codelineno-29-50" href="#__codelineno-29-50"></a> ---------------------------------------------------------------
</span><span id="__span-29-51"><a id="__codelineno-29-51" name="__codelineno-29-51" href="#__codelineno-29-51"></a> slack (MET)                                             0.00
</span></code></pre></div>
<p>This timing report uses <em>static timing analysis</em> to find the critical
path. Static timing analysis checks the timing across all paths in the
design (regardless of whether these paths can actually be used in
practice) and finds the longest path. For more information about static
timing analysis, consult Chapter 1 of the <a href="http://www.csl.cornell.edu/courses/ece6745/asicdocs/tcoug.pdf">Synopsys Timing Constraints
and Optimization User
Guide</a>.
The report clearly shows that the critical path starts at bit 1 of a
pipeline register in between the S0 and S1 stages (<code>elm1_S0S1</code>), goes
into an input of a <code>MinMaxUnit</code>, comes out the <code>out_max</code> port of the
<code>MinMaxUnit</code>, and ends at the pipeline register between the S1 and S2
stages (`elm1_S1S21). The report shows the delay through each logic gate
(e.g., the clk-to-q delay of the initial DFF is 80ps, the propagation
delay of a AOI21_X1 gate is 150ps) and the total delay for the critical
path which in this case is 0.66ns.</p>
<p>The difference between the required arrival time and the actual arrival
time is called the <em>slack</em>. In the above report we just meet timing with
zero slack. Positive slack means the path arrived before it needed to
while negative slack means the path arrived after it needed to. If you
end up with negative slack, then you need to rerun the tools with a
longer target clock period until you can meet timing with no negative
slack. The process of tuning a design to ensure it meets timing is called
"timing closure". In this course, we are primarily interested in
design-space exploration as opposed to meeting some externally defined
target timing specification. So you will need to sweep a range of target
clock periods. <strong>Your goal is to choose the shortest possible clock
period which still meets timing without any negative slack!</strong> This will
result in a well-optimized design and help identify the "fundamental"
performance of the design. Alternatively, if you are comparing multiple
designs, sometimes the best situation is to tune the baseline so it meets
timing and then ensure the alternative designs have similar cycle times.
This will enable a fair comparison since all designs will be running at
the same cycle time.</p>
<p>The <code>report_area</code> command will show how much area is required to
implement each module in the design.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>                    Global cell area          Local cell area
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>                    ------------------  ---------------------------
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>Hierarchical cell   Absolute   Percent  Combi-    Noncombi-  Black-
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>                    Total      Total    national  national   boxes   Design
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>------------------  ---------  -------  --------  ---------  ------  -----------------------------------------
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>SortUnitStruct       745.0660    100.0    0.0000     0.0000  0.0
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>  SortUnitStruct
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>v                    745.0660    100.0   35.9100     0.0000  0.0000  tut3_verilog_sort_SortUnitStruct_p_nbits8
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a>v/elm0_S0S1           36.1760      4.9    0.0000    36.1760  0.0000  vc_Reg_p_nbits8_0
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a>v/elm0_S1S2           36.1760      4.9    0.0000    36.1760  0.0000  vc_Reg_p_nbits8_8
</span><span id="__span-30-11"><a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a>v/elm0_S2S3           36.1760      4.9    0.0000    36.1760  0.0000  vc_Reg_p_nbits8_4
</span><span id="__span-30-12"><a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a>v/elm1_S0S1           36.1760      4.9    0.0000    36.1760  0.0000  vc_Reg_p_nbits8_11
</span><span id="__span-30-13"><a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a>v/elm1_S1S2           36.1760      4.9    0.0000    36.1760  0.0000  vc_Reg_p_nbits8_7
</span><span id="__span-30-14"><a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a>v/elm1_S2S3           36.1760      4.9    0.0000    36.1760  0.0000  vc_Reg_p_nbits8_3
</span><span id="__span-30-15"><a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a>v/elm2_S0S1           36.1760      4.9    0.0000    36.1760  0.0000  vc_Reg_p_nbits8_10
</span><span id="__span-30-16"><a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a>v/elm2_S1S2           36.1760      4.9    0.0000    36.1760  0.0000  vc_Reg_p_nbits8_6
</span><span id="__span-30-17"><a id="__codelineno-30-17" name="__codelineno-30-17" href="#__codelineno-30-17"></a>v/elm2_S2S3           36.1760      4.9    0.0000    36.1760  0.0000  vc_Reg_p_nbits8_2
</span><span id="__span-30-18"><a id="__codelineno-30-18" name="__codelineno-30-18" href="#__codelineno-30-18"></a>v/elm3_S0S1           36.1760      4.9    0.0000    36.1760  0.0000  vc_Reg_p_nbits8_9
</span><span id="__span-30-19"><a id="__codelineno-30-19" name="__codelineno-30-19" href="#__codelineno-30-19"></a>v/elm3_S1S2           36.1760      4.9    0.0000    36.1760  0.0000  vc_Reg_p_nbits8_5
</span><span id="__span-30-20"><a id="__codelineno-30-20" name="__codelineno-30-20" href="#__codelineno-30-20"></a>v/elm3_S2S3           36.1760      4.9    0.0000    36.1760  0.0000  vc_Reg_p_nbits8_1
</span><span id="__span-30-21"><a id="__codelineno-30-21" name="__codelineno-30-21" href="#__codelineno-30-21"></a>v/mmuA_S1             50.0080      6.7   50.0080     0.0000  0.0000  tut3_verilog_sort_MinMaxUnit_p_nbits8_0
</span><span id="__span-30-22"><a id="__codelineno-30-22" name="__codelineno-30-22" href="#__codelineno-30-22"></a>v/mmuA_S2             50.0080      6.7   50.0080     0.0000  0.0000  tut3_verilog_sort_MinMaxUnit_p_nbits8_3
</span><span id="__span-30-23"><a id="__codelineno-30-23" name="__codelineno-30-23" href="#__codelineno-30-23"></a>v/mmuA_S3             57.1900      7.7   57.1900     0.0000  0.0000  tut3_verilog_sort_MinMaxUnit_p_nbits8_1
</span><span id="__span-30-24"><a id="__codelineno-30-24" name="__codelineno-30-24" href="#__codelineno-30-24"></a>v/mmuB_S1             50.2740      6.7   50.2740     0.0000  0.0000  tut3_verilog_sort_MinMaxUnit_p_nbits8_4
</span><span id="__span-30-25"><a id="__codelineno-30-25" name="__codelineno-30-25" href="#__codelineno-30-25"></a>v/mmuB_S2             50.0080      6.7   50.0080     0.0000  0.0000  tut3_verilog_sort_MinMaxUnit_p_nbits8_2
</span><span id="__span-30-26"><a id="__codelineno-30-26" name="__codelineno-30-26" href="#__codelineno-30-26"></a>v/val_S0S1             5.8520      0.8    1.3300     4.5220  0.0000  vc_ResetReg_p_nbits1_0
</span><span id="__span-30-27"><a id="__codelineno-30-27" name="__codelineno-30-27" href="#__codelineno-30-27"></a>v/val_S1S2             5.8520      0.8    1.3300     4.5220  0.0000  vc_ResetReg_p_nbits1_2
</span><span id="__span-30-28"><a id="__codelineno-30-28" name="__codelineno-30-28" href="#__codelineno-30-28"></a>v/val_S2S3             5.8520      0.8    1.3300     4.5220  0.0000  vc_ResetReg_p_nbits1_1
</span><span id="__span-30-29"><a id="__codelineno-30-29" name="__codelineno-30-29" href="#__codelineno-30-29"></a>------------------  ---------  -------  --------  ---------  ------  -----------------------------------------
</span><span id="__span-30-30"><a id="__codelineno-30-30" name="__codelineno-30-30" href="#__codelineno-30-30"></a>Total                                   297.3880   447.6780  0.0000
</span></code></pre></div>
<p>The design requires 745um^2. Each pipeline register requires about 5% of
the total area and each min/max unit requires about 7% of the total area.
The area required for all 12 pipeline registers is about 60% of the total
area, and the area required for all five of the min/max units is about
35% of the total area.</p>
<p>Finally, we go ahead and exit Synopsys DC.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>dc_shell&gt; exit
</span></code></pre></div>
<p>Take a few minutes to examine the resulting Verilog gate-level netlist.
Notice that the module hierarchy is preserved and also notice that the
<code>MinMaxUnit</code> synthesizes into a large number of basic logic gates.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-sort/02-synopsys-dc-synth
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>%<span class="w"> </span>more<span class="w"> </span>post-synth.v
</span></code></pre></div>
<h3 id="35-synopsys-design-vision">3.5. Synopsys Design Vision</h3>
<p>We can use the Synopsys Design Vision (DV) tool for browsing the
resulting gate-level netlist, plotting critical path histograms, and
generally analyzing our design. Start Synopsys DV and setup the
<code>target_library</code> and <code>link_library</code> variables as before.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>% cd $TOPDIR/asic/build-sort/02-synopsys-dc-synth
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>% design_vision-xg
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>design_vision&gt; set_app_var target_library &quot;$env(ECE6745_STDCELLS)/stdcells.db&quot;
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>design_vision&gt; set_app_var link_library   &quot;* $env(ECE6745_STDCELLS)/stdcells.db&quot;
</span></code></pre></div>
<p>You can use the following steps to open the <code>.ddc</code> file generated during
synthesis.</p>
<ul>
<li>Choose <em>File &gt; Read</em> from the menu</li>
<li>Open the <code>post-synth.dcc</code> file</li>
</ul>
<p>You can then use the following steps to browse the gate-level schematic.
First select a module in the Logical Hierarchy panel. Then choose
<em>Schematic &gt; New Schematic View</em>. You can double click on modules to
expand them. You might also want to try this approach to see the entire
design at once:</p>
<ul>
<li>Select the <code>SortUnitStruct__p_nbits_8</code> module in the Logical Hierarchy panel</li>
<li>Choose <em>Select &gt; Cells &gt; Leaf Cells of Selected Cells</em> from the menu</li>
<li>Choose <em>Schematic &gt; New Schematic View</em> from the menu</li>
<li>Choose <em>Select &gt; Clear</em> from the menu</li>
</ul>
<p>You can use the following steps to view a histogram of path slack, and
also to open a gave-level schematic of just the critical path.</p>
<ul>
<li>Choose <em>Timing &gt; Path Slack</em> from the menu</li>
<li>Click <em>OK</em> in the pop-up window</li>
<li>Select the left-most bar in the histogram to see list of most critical paths</li>
<li>Select one of the paths in the path list to highlight the path in the schematic view</li>
</ul>
<p>Or you can right click on a path and choose <em>Path Schematic</em> to see just
the gates that lie on the critical path. Notice that there eight levels
of logic (including the register at the start) on the critical path. The
number of levels of logic on the critical path can provide some very
rough first-order intuition on whether or not we might want to explore a
more aggressive clock constraint and/or adding more pipeline stages. If
there are just a few levels of logic on the critical path then our design
is probably very simple (as in this case!), while if there are more than
50 levels of logic then there is potentially room for signficant
improvement. The following screen capture illutrates using Synopsys
Design Vision to explore the post-synthesis results. While this can be
interesting, in this course, we almost always prefer exploring the
post-place-and-route results, so we will not really use Synopsys DV that
often.</p>
<p><img alt="" src="../img/tut06-synopsys-dv-1.png" /></p>
<h3 id="36-automating-synthesis">3.6. Automating Synthesis</h3>
<p>You can automate the above steps by putting a sequence of commands in a
<code>.tcl</code> file and run Synopsys DC using those commands in one step like
this:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-sort/02-synopsys-dc-synth
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>%<span class="w"> </span>dc_shell-xg-t<span class="w"> </span>-f<span class="w"> </span>run.tcl
</span></code></pre></div>
<p>To further simplify rerunning this step, we can put the above command
line in its own shell script. We have created such run scripts for you.
Let's take a look to confirm these scripts match the manual commands we
used above.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-sort
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>%<span class="w"> </span>cat<span class="w"> </span>./02-synopsys-dc-synth/run
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>%<span class="w"> </span>cat<span class="w"> </span>./02-synopsys-dc-synth/run.tcl
</span></code></pre></div>
<p>You can rerun synthesis as follows.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-sort
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>%<span class="w"> </span>./02-synopsys-dc-synth/run
</span></code></pre></div>
<h2 id="4-synopsys-vcs-for-fast-functional-gate-level-simulation">4. Synopsys VCS for Fast-Functional Gate-Level Simulation</h2>
<p>Before synthesis, we used Synopsys VCS to do a 4-state simulation. This
time, we'll be using VCS to perform a gate-level simulation, since we now
have a gate-level netlist available to us. Gate-level simulation provides
an advantage over RTL simulation because it more precisely represents the
specification of the true hardware generated by the tools. This sort of
simulation could propogate X's into the design that were not found by the
4-state RTL simulation, and it also verifies that the tools did not
optimize anything away during synthesis. We will use Synopsys VCS to run
our gate-level simulation on the <code>sort-rtl-struct-random</code> simulator
testbench:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-sort/03-synopsys-vcs-ffglsim
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>%<span class="w"> </span>vcs<span class="w"> </span>-sverilog<span class="w"> </span>-xprop<span class="o">=</span>tmerge<span class="w"> </span>-override_timescale<span class="o">=</span>1ns/1ps<span class="w"> </span>-top<span class="w"> </span>Top<span class="w"> </span><span class="se">\</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="w">   </span>+delay_mode_zero<span class="w"> </span><span class="se">\</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="w">   </span>+vcs+dumpvars+waves.vcd<span class="w"> </span><span class="se">\</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="w">   </span>+incdir+<span class="nv">$TOPDIR</span>/sim/build<span class="w"> </span><span class="se">\</span>
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="w">   </span><span class="si">${</span><span class="nv">ECE6745_STDCELLS</span><span class="si">}</span>/stdcells.v<span class="w"> </span><span class="se">\</span>
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="w">   </span><span class="si">${</span><span class="nv">TOPDIR</span><span class="si">}</span>/sim/build/SortUnitStruct_random_tb.v<span class="w"> </span><span class="se">\</span>
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="w">   </span>../02-synopsys-dc-synth/post-synth.v
</span><span id="__span-37-9"><a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a>%<span class="w"> </span>./simv
</span></code></pre></div>
<p>Notice there are some differences in the Synopsys VCS command we ran
here, and the one we ran for 4-state RTL simulation. In this version, we
use the gate-level netlist <code>post-synth.v</code> instead of the pickled file. We
also include the option <code>+delay_mode_zero</code> which tells Synopsys VCS to
run a fast-functional simulation in which no delays are considered. This
is similar to RTL simulation, and you should notice that all signals will
change on the clock edge. We also include the macros <code>CYCLE_TIME</code>,
<code>VTB_INPUT_DELAY</code> , <code>VTB_OUTPUT_ASSERT_DELAY</code>. These values control how
long after the rising edge we change the inputs and how long after the
rising edge we check the outputs.</p>
<p>To simplify rerunning a simulation, we can put the above command lines in
a shell script. We have created such a run script for you. Let's take a
look to confirm these scripts match the manual commands we used above.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-sort
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>%<span class="w"> </span>cat<span class="w"> </span>./03-synopsys-vcs-ffglsim/run
</span></code></pre></div>
<p>You can rerun fast-functional gate-level simulation as follows.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-sort
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>%<span class="w"> </span>./03-synopsys-vcs-ffglsim/run
</span></code></pre></div>
<h2 id="5-to-do-on-your-own">5. To-Do On Your Own</h2>
<p>Now we can use what you have learned so far to push the GCD unit through
the ASIC front-end flow. First, run a simulation of the GCD unit.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>% cd $TOPDIR/sim/build
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>% ../tut3_verilog/gcd/gcd-sim --short-mname --impl rtl --input random --stats \
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a>                              --translate --dump-vtb
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a>% less GcdUnit__pickled.v
</span></code></pre></div>
<p>Now create a new ASIC build directory and copy the scripts we used to
push the sort unit through the ASIC front-end flow.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>% mkdir -p $TOPDIR/asic/build-gcd/01-synopsys-vcs-rtlsim
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>% mkdir -p $TOPDIR/asic/build-gcd/02-synopsys-dc-synth
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>% mkdir -p $TOPDIR/asic/build-gcd/03-synopsys-vcs-ffglsim
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a>% cp $TOPDIR/asic/build-sort/01-synopsys-vcs-rtlsim/run   $TOPDIR/asic/build-gcd/01-synopsys-vcs-rtlsim
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>% cp $TOPDIR/asic/build-sort/02-synopsys-dc-synth/run.tcl $TOPDIR/asic/build-gcd/02-synopsys-dc-synth
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a>% cp $TOPDIR/asic/build-sort/02-synopsys-dc-synth/run     $TOPDIR/asic/build-gcd/02-synopsys-dc-synth
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a>% cp $TOPDIR/asic/build-sort/03-synopsys-vcs-ffglsim/run  $TOPDIR/asic/build-gcd/03-synopsys-vcs-ffglsim
</span></code></pre></div>
<p>Now open up each of these files and modify so they push the GCD unit
instead of the sort unit through the flow. You will need to update the
name of the Verilog source files and the top module name as follows:</p>
<ul>
<li>Verilog source file name: <code>GcdUnit__pickled.v</code></li>
<li>Verilog test source file name: <code>GcdUnit_random_tb.v</code></li>
<li>Top module name for synthesis: <code>GcdUnit</code></li>
</ul>
<p>Basically, you just need to change <code>SortUnitStruct</code> to <code>GcdUnit</code> in all
of the run scripts. You can use <code>sed</code> to do this:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>% cd $TOPDIR/asic/build-gcd
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>% find . -type f -exec sed -i.bak &#39;s/SortUnitStruct/GcdUnit/&#39; {} \;
</span></code></pre></div>
<p>Keep the cycle time constraint as 700ps and the other constraints as
before. Once you have updated the scripts you can then push the GCD unit
through the flow like this:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-gcd
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>%<span class="w"> </span>./01-synopsys-vcs-rtlsim/run
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a>%<span class="w"> </span>./02-synopsys-dc-synth/run
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a>%<span class="w"> </span>./03-synopsys-vcs-ffglsim/run
</span></code></pre></div>
<p>Carefully look at the post-synthesis timing report to ensure your design
meetings timing:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-gcd
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>%<span class="w"> </span>cat<span class="w"> </span><span class="m">02</span>-synopsys-dc-synth/timing.rpt
</span></code></pre></div>
<p>If your design does not meet timing, increase the cycle time constraint
and try again until it does meet timing. Spend time looking at the
post-synthesis gate-level netlist in <code>post-synth.v</code> and load the design
into Synopsys Design Vision to examine the critical path. Carefully look
and the results from running the fast-functional gate-level simulation to
verify that the design is passing the test. Convince yourself that the
GCD unit was successfully pushed through the ASIC front-end flow.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Christopher Batten
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "content.code.copy"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../js/extras.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.1.0/skins/default.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.1.0/wavedrom.min.js"></script>
      
        <script src="../js/wavedrom_loader.js"></script>
      
    
  </body>
</html>