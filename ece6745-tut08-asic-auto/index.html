
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Christopher Batten">
      
      
      
        <link rel="prev" href="../ece6745-tut07-asic-back-end/">
      
      
        <link rel="next" href="../ece6745-tut09-xcel-rtl/">
      
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Tutorial 8: ASIC Automated Flow - ECE 6745 Complex Digital ASIC Design</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ece-6745-tutorial-8-asic-automated-flow" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ECE 6745 Complex Digital ASIC Design" class="md-header__button md-logo" aria-label="ECE 6745 Complex Digital ASIC Design" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ECE 6745 Complex Digital ASIC Design
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tutorial 8: ASIC Automated Flow
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/cornell-ece6745/ece6745-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    cornell-ece6745/ece6745-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../ece6745-tut00-remote-access/" class="md-tabs__link">
          
  
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../ece6745-sec01-asic-front-end/" class="md-tabs__link">
          
  
  
  Sections

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ECE 6745 Complex Digital ASIC Design" class="md-nav__button md-logo" aria-label="ECE 6745 Complex Digital ASIC Design" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ECE 6745 Complex Digital ASIC Design
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/cornell-ece6745/ece6745-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    cornell-ece6745/ece6745-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut00-remote-access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 0: ECE Linux Server Remote Access
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut01-linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 1: Linux Development Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut02-git/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 2: Git Distributed Version Control System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut05-asic-stdcells/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 5: ASIC Standard Cells
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut06-asic-front-end/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 6: ASIC Front-End Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut07-asic-back-end/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 7: ASIC Back-End Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Tutorial 8: ASIC Automated Flow
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Tutorial 8: ASIC Automated Flow
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-testing-simulation-and-translation" class="md-nav__link">
    <span class="md-ellipsis">
      1. Testing, Simulation, and Translation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Testing, Simulation, and Translation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-testing-the-sort-unit" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. Testing the Sort Unit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-evaluating-the-sort-unit" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. Evaluating the Sort Unit
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-pyhflow-for-generating-flows" class="md-nav__link">
    <span class="md-ellipsis">
      2. pyhflow For Generating Flows
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. pyhflow For Generating Flows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-running-asic-flow-with-one-test" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Running ASIC Flow with One Test
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-running-asic-flow-with-all-tests-and-evals" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Running ASIC Flow with All Tests and Evals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-debugging-issues" class="md-nav__link">
    <span class="md-ellipsis">
      2.3. Debugging Issues
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-interactive-debugging" class="md-nav__link">
    <span class="md-ellipsis">
      2.4. Interactive Debugging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-key-reports" class="md-nav__link">
    <span class="md-ellipsis">
      2.5. Key Reports
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-to-do-on-your-own" class="md-nav__link">
    <span class="md-ellipsis">
      3. To Do On Your Own
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut09-xcel-rtl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 9: TinyRV2 Accelerator RTL Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut10-sram/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 10: SRAM Generators
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut12-spice-sim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 12: SPICE Simulation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-tut13-dw/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial 13: DesignWare and Retiming
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sections
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Sections
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-sec01-asic-front-end/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Section 1: ASIC Front-End Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-sec02-asic-back-end/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Section 2: ASIC Back-End Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-sec03-asic-auto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Section 3: ASIC Automated Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-sec04-xcel-rtl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Section 4: TinyRV2 Accelerator RTL Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ece6745-sec05-sram/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Section 5: SRAM Generators
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-testing-simulation-and-translation" class="md-nav__link">
    <span class="md-ellipsis">
      1. Testing, Simulation, and Translation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Testing, Simulation, and Translation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-testing-the-sort-unit" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. Testing the Sort Unit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-evaluating-the-sort-unit" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. Evaluating the Sort Unit
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-pyhflow-for-generating-flows" class="md-nav__link">
    <span class="md-ellipsis">
      2. pyhflow For Generating Flows
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. pyhflow For Generating Flows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-running-asic-flow-with-one-test" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Running ASIC Flow with One Test
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-running-asic-flow-with-all-tests-and-evals" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Running ASIC Flow with All Tests and Evals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-debugging-issues" class="md-nav__link">
    <span class="md-ellipsis">
      2.3. Debugging Issues
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-interactive-debugging" class="md-nav__link">
    <span class="md-ellipsis">
      2.4. Interactive Debugging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-key-reports" class="md-nav__link">
    <span class="md-ellipsis">
      2.5. Key Reports
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-to-do-on-your-own" class="md-nav__link">
    <span class="md-ellipsis">
      3. To Do On Your Own
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="ece-6745-tutorial-8-asic-automated-flow">ECE 6745 Tutorial 8: ASIC Automated Flow</h1>
<p>The previous tutorials demonstrated how to take a design from RTL to
layout by both manually entering commands for each tool and also writing
flow scripts. Flow scripts can help automate the process but copying and
modifying these flow scripts for every design is tedious and error prone.
An agile hardware design flow demands automation to simplify rapidly
exploring the area, energy, timing design space of one or more designs.
In this tutorial we will introduce a simple tool called pyhflow which
takes as input a <em>step templates</em> and a <em>design YAML</em> and generates
appropriate flow scripts. This tutorial assumes you have already
completed the tutorials on Linux, Git, and Verilog.</p>
<p>The following diagram illustrates the five primary tools we will be using
in ECE 6745 along with a few smaller secondary tools. Notice that the
ASIC tools all require various views from the standard-cell library.
Before starting this tutorial, you must complete the ASIC standard-cell
tutorial, the ASIC front-end flow tutorial, and the ASIC back-end flow
tutorial.</p>
<p><img alt="" src="../img/tut08-asic-flow.png" /></p>
<ol>
<li>
<p>We write our RTL models in Verilog, and we use the PyMTL framework to
    test, verify, and evaluate the execution time (in cycles) of our
    design. This part of the flow is very similar to the flow used in
    ECE 4750. Once we are sure our design is working correctly, we can
    then start to push the design through the flow.</p>
</li>
<li>
<p>We use <strong>Synopsys VCS</strong> to compile and run both 4-state RTL and
    gate-level simulations. These simulations help us to build confidence
    in our design as we push our designs through different stages of the
    flow. From these simulations, we also generate waveforms in <code>.vcd</code>
    (Verilog Change Dump) format, and per-net average activity factors
    stored in <code>.saif</code> format. These activity factors will be used for
    power analysis. Gate-level simulation is an valuable tool for
    ensuring the tools did not optimize something away which impacts the
    correctness of the design, and also provides an avenue for obtaining
    a more accurate power analysis than RTL simulation. While static
    timing analysis (STA) analyzes all paths, GL simulation can also
    serve as a backup to check for hold and setup time violations (chip
    designers must be paranoid!)</p>
</li>
<li>
<p>We use <strong>Synopsys Design Compiler (DC)</strong> to synthesize our design,
    which means to transform the Verilog RTL model into a Verilog
    gate-level netlist where all of the gates are selected from the
    standard-cell library. We need to provide Synopsys DC with abstract
    logical and timing views of the standard-cell library in <code>.db</code>
    format. In addition to the Verilog gate-level netlist, Synopsys DC
    can also generate a <code>.ddc</code> file which contains information about the
    gate-level netlist and timing, and this <code>.ddc</code> file can be inspected
    using Synopsys Design Vision (DV). We will also use Synopsys DC to
    generate a <code>.sdc</code> which captures timing constraints which can then be
    used as input to the place-and-route tool.</p>
</li>
<li>
<p>We use <strong>Cadence Innovus</strong> to place-and-route our design, which means
    to place all of the gates in the gate-level netlist into rows on the
    chip and then to generate the metal wires that connect all of the
    gates together. We need to provide Cadence Innovus with the same
    abstract logical and timing views used in Synopsys DC, but we also
    need to provide Cadence Innovus with technology information in
    <code>.lef</code>, and <code>.captable</code> format and abstract physical views of the
    standard-cell library also in <code>.lef</code> format. Cadence Innovus will
    generate an updated Verilog gate-level netlist, a <code>.spef</code> file which
    contains parasitic resistance/capacitance information about all nets
    in the design, and a <code>.gds</code> file which contains the final layout. The
    <code>.gds</code> file can be inspected using the open-source Klayout GDS
    viewer. Cadence Innovus also generates reports which can be used to
    accurately characterize area and timing.</p>
</li>
<li>
<p>We use <strong>Synopsys PrimeTime (PT)</strong> to perform power analysis of our
    design. We need to provide Synopsys PT with the same abstract
    logical, timing, and power views used in Synopsys DC and Cadence
    Innovus, but in addition we need to provide switching activity
    information for every net in the design (which comes from the <code>.saif</code>
    file), and capacitance information for every net in the design (which
    comes from the <code>.spef</code> file). Synopsys PT puts the switching
    activity, capacitance, clock frequency, and voltage together to
    estimate the power consumption of every net and thus every module in
    the design, and these estimates are captured in various reports.</p>
</li>
</ol>
<p>Extensive documentation is provided by Synopsys and Cadence for these
ASIC tools. We have organized this documentation and made it available to
you on the public course webpage:</p>
<ul>
<li><a href="https://www.csl.cornell.edu/courses/ece6745/asicdocs">https://www.csl.cornell.edu/courses/ece6745/asicdocs</a></li>
</ul>
<p>The first step is to access <code>ecelinux</code>. Use VS Code to log into the same
specific <code>ecelinux</code> server and then use Microsoft Remote Desktop to log
into the same server. Once you are at the <code>ecelinux</code> prompt, source the
setup script, source the GUI setup script, clone this repository from
GitHub, and define an environment variable to keep track of the top
directory for the project.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>%<span class="w"> </span><span class="nb">source</span><span class="w"> </span>setup-ece6745.sh
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>%<span class="w"> </span><span class="nb">source</span><span class="w"> </span>setup-gui.sh
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>%<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$HOME</span>/ece6745
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$HOME</span>/ece6745
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>%<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>git@github.com:cornell-ece6745/ece6745-tut08-asic-auto<span class="w"> </span>tut08
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>tut08
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>%<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">TOPDIR</span><span class="o">=</span><span class="nv">$PWD</span>
</span></code></pre></div>
<h2 id="1-testing-simulation-and-translation">1. Testing, Simulation, and Translation</h2>
<p>As in the previous tutorial, our goal is to characterize the area,
energy, and timing for the sort unit from the Verilog tutorial using the
ASIC tools. As a reminder, the sort unit takes as input four integers and
a valid bit and outputs those same four integers in increasing order with
the valid bit. The sort unit is implemented using a three-stage
pipelined, bitonic sorting network and the datapath is shown below.</p>
<p><img alt="" src="../img/tut06-sort-unit-dpath.png" /></p>
<p>Before using the ASIC tools we need to verify that our design passes all
of our tests and use an interactive simulator to drive our design-space
exploration.</p>
<h3 id="11-testing-the-sort-unit">1.1. Testing the Sort Unit</h3>
<p>As always, we can use our Python-based testing framework combined with
the Verilator two-state RTL simulator to verify our design's
functionality. We need to use the <code>--test-verilog</code> and <code>--dump-vtb</code>
command line options to generate Verilog test benches which can then be
used for four-state RTL simulation, fast-functional gate-level
simulation, and back-annotated gate-level simulation.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>%<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$TOPDIR</span>/sim/build
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/sim/build
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>%<span class="w"> </span>pytest<span class="w"> </span>../tut3_verilog/sort<span class="w"> </span>--test-verilog<span class="w"> </span>--dump-vtb
</span></code></pre></div>
<p>Verify the test benches have been generated.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/sim/build
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>%<span class="w"> </span>ls<span class="w"> </span>SortUnitStruct*tb.v
</span></code></pre></div>
<h3 id="12-evaluating-the-sort-unit">1.2. Evaluating the Sort Unit</h3>
<p>We can use the provided interactive simulator to run two experiments each
with a different dataset.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>%<span class="w"> </span>../tut3_verilog/sort/sort-sim<span class="w"> </span>--impl<span class="w"> </span>rtl-struct<span class="w"> </span>--input<span class="w"> </span>random<span class="w"> </span>--stats<span class="w"> </span>--translate<span class="w"> </span>--dump-vtb
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>%<span class="w"> </span>../tut3_verilog/sort/sort-sim<span class="w"> </span>--impl<span class="w"> </span>rtl-struct<span class="w"> </span>--input<span class="w"> </span>zeros<span class="w">  </span>--stats<span class="w"> </span>--translate<span class="w"> </span>--dump-vtb
</span></code></pre></div>
<p>Verify the Verilog RTL and test benches have been generated.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/sim/build
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>%<span class="w"> </span>ls<span class="w"> </span>SortUnitStruct__p_nbits_8__pickled.v
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>%<span class="w"> </span>ls<span class="w"> </span>SortUnitStruct__p_nbits_8_sort-sim-rtl-struct-random_tb.v
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>%<span class="w"> </span>SortUnitStruct__p_nbits_8_sort-sim-rtl-struct-zeros_tb.v
</span></code></pre></div>
<h2 id="2-pyhflow-for-generating-flows">2. pyhflow For Generating Flows</h2>
<p>pyflow is based on the idea of <em>step templates</em> which are located in the
<code>asic/steps</code> directory.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/steps
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>%<span class="w"> </span>tree
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>.
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>├──<span class="w"> </span><span class="m">01</span>-synopsys-vcs-rtlsim
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>│<span class="w">   </span>└──<span class="w"> </span>run
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>├──<span class="w"> </span><span class="m">02</span>-synopsys-dc-synth
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>│<span class="w">   </span>├──<span class="w"> </span>run
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>│<span class="w">   </span>└──<span class="w"> </span>run.tcl
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>├──<span class="w"> </span><span class="m">03</span>-synopsys-vcs-ffglsim
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>│<span class="w">   </span>└──<span class="w"> </span>run
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>├──<span class="w"> </span><span class="m">04</span>-cadence-innovus-pnr
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>│<span class="w">   </span>├──<span class="w"> </span>run
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>│<span class="w">   </span>├──<span class="w"> </span>run.tcl
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>│<span class="w">   </span>└──<span class="w"> </span>setup-timing.tcl
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>├──<span class="w"> </span><span class="m">05</span>-synopsys-vcs-baglsim
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>│<span class="w">   </span>└──<span class="w"> </span>run
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>├──<span class="w"> </span><span class="m">06</span>-synopsys-pt-pwr
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>│<span class="w">   </span>├──<span class="w"> </span>run
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>│<span class="w">   </span>└──<span class="w"> </span>run.tcl
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>└──<span class="w"> </span><span class="m">07</span>-summarize-results
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a><span class="w">    </span>├──<span class="w"> </span>run
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a><span class="w">    </span>└──<span class="w"> </span>summarize-results
</span></code></pre></div>
<p>Each step is a directory with a run script and possibly other scripts.
The key difference from the scripts we used in the previous tutorials, is
that these scripts are templated using the Jinja2 templating system:</p>
<ul>
<li><a href="https://jinja.palletsprojects.com">https://jinja.palletsprojects.com</a></li>
</ul>
<p>So for example, the Synopsys DC run.tcl script is templated based on the
design name and the target clock period as follows</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>analyze -format sverilog $env(TOPDIR)/sim/build/{{design_name}}__pickled.v
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>elaborate {{design_name}}
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>create_clock clk -name ideal_clock1 -period {{clock_period}}
</span></code></pre></div>
<p>The <code>{{ }}</code> directive is the standard syntax for template variable
substitution using Jinja2. As another example, the RTL, FFGL, and BAGL
simulation scripts are all templated by the list of tests and
evaluations.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>{% for item in tests_and_evals -%}
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>run_sim {{item}}
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>{% endfor %}
</span></code></pre></div>
<p>The <code>{% %}</code> directive is the standard syntax for more complex templating
using Jinja2.</p>
<p>The pyhflow program takes as input a design YAML file which specifies:</p>
<ul>
<li>what steps make up the flow</li>
<li>key/value pairs for variables to substitute into scripts</li>
<li>list of tests</li>
<li>list of evals</li>
</ul>
<p>Take a look at the provided design YAML file for the sort unit.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/designs
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>%<span class="w"> </span>cat<span class="w"> </span>tut08-sort.yml
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>steps:
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w"> </span>-<span class="w"> </span><span class="m">01</span>-synopsys-vcs-rtlsim
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w"> </span>-<span class="w"> </span><span class="m">02</span>-synopsys-dc-synth
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w"> </span>-<span class="w"> </span><span class="m">03</span>-synopsys-vcs-ffglsim
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w"> </span>-<span class="w"> </span><span class="m">04</span>-cadence-innovus-pnr
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w"> </span>-<span class="w"> </span><span class="m">05</span>-synopsys-vcs-baglsim
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w"> </span>-<span class="w"> </span><span class="m">06</span>-synopsys-pt-pwr
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w"> </span>-<span class="w"> </span><span class="m">07</span>-summarize-results
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>src_dir<span class="w">      </span>:<span class="w"> </span>../../../sim/build
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>design_name<span class="w">  </span>:<span class="w"> </span>SortUnitStruct__p_nbits_8
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a>clock_period<span class="w"> </span>:<span class="w"> </span><span class="m">0</span>.7
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>dump_vcd<span class="w">     </span>:<span class="w"> </span><span class="nb">true</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>tests:
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="w"> </span>-<span class="w"> </span>SortUnitStruct__p_nbits_8_test_basic
</span><span id="__span-8-20"><a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="w"> </span>-<span class="w"> </span>SortUnitStruct__p_nbits_8_test_stream
</span><span id="__span-8-21"><a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="w"> </span>-<span class="w"> </span>SortUnitStruct__p_nbits_8_test_dups
</span><span id="__span-8-22"><a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="w"> </span>-<span class="w"> </span>SortUnitStruct__p_nbits_8_test_sorted
</span><span id="__span-8-23"><a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="w"> </span>-<span class="w"> </span>SortUnitStruct__p_nbits_8_test_random_8
</span><span id="__span-8-24"><a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a>
</span><span id="__span-8-25"><a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a>evals:
</span><span id="__span-8-26"><a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="w"> </span>-<span class="w"> </span>SortUnitStruct__p_nbits_8_sort-sim-rtl-struct-random
</span></code></pre></div>
<p>This design YAML file specifies the generated flow should use all seven
steps. Currently the only parameters are the source directory, design
name, and the clock period. We run RTL sim, FFGL sim, and BAGL sim on all
tests and evals, but we only do energy analysis on the evals. The evals
usually come from running an interactive simulator like <code>sort-sim</code>. All
pyhflow does is use the YAML file to figure out what to substitute into
the templated steps and then copy the run scripts into the current
working directory. You can also override parameters on pyhflow command
line.</p>
<h3 id="21-running-asic-flow-with-one-test">2.1. Running ASIC Flow with One Test</h3>
<p>Let's go ahead and use pyhflow to generate the flow scripts for the sort
unit.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>%<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-tut08-sort
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-tut08-sort
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>%<span class="w"> </span>pyhflow<span class="w"> </span>--one-test<span class="w"> </span>../designs/tut08-sort.yml
</span></code></pre></div>
<p>The <code>--one-test</code> command line option tells pyhflow to only include the
first test and no evals in the flow scripts. This is a useful way to get
started with a single test and reduces the overall runtime of the flow.
Once we know that everything works with one test we can circle back and
regenerate the flow scripts with all of the tests and evals.</p>
<p>Let's see how the step template has been filled in for the Verilog RTL
simulation step.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-tut08-sort
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>%<span class="w"> </span>cat<span class="w"> </span><span class="m">01</span>-synopsys-vcs-rtlsim/run
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>...
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>run_sim<span class="w"> </span>SortUnitStruct__p_nbits_8_test_basic
</span></code></pre></div>
<p>Notice how the name of the first test has been filled in. Let's also see
how the step template has been filled in for the Synopsys DC synthesis
step.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-tut08-sort
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>%<span class="w"> </span>cat<span class="w"> </span><span class="m">02</span>-synopsys-dc-synth/run.tcl
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>...
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>analyze<span class="w"> </span>-format<span class="w"> </span>sverilog<span class="w"> </span><span class="nv">$env</span><span class="o">(</span>TOPDIR<span class="o">)</span>/sim/build/SortUnitStruct__p_nbits_8__pickled.v
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>elaborate<span class="w"> </span>SortUnitStruct__p_nbits_8
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>create_clock<span class="w"> </span>clk<span class="w"> </span>-name<span class="w"> </span>ideal_clock1<span class="w"> </span>-period<span class="w"> </span><span class="m">0</span>.7
</span></code></pre></div>
<p>Notice how the name of the source Verilog RTL File, the top-level
modulename, and the clock period have all been filled in.</p>
<p>After generating a flow, we always recommend explicitly running at least
the first two steps to ensure there are no errors. You can run the
four-state RTL simulation as follows.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-tut08-sort
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>%<span class="w"> </span>./01-synopsys-vcs-rtlsim/run
</span></code></pre></div>
<p>Make sure the step can find the source files and passes the test. Then
run synthesis as follows.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-tut08-sort
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>%<span class="w"> </span>./02-synopsys-dc-synth/run
</span></code></pre></div>
<p>Carefully look at the output from the synthesis step (also stored in the
<code>run.log</code> file). Look for the output after <code>Running PRESTO HDLC</code> for any
warnings to ensure that all of your Verilog RTL is indeed synthesizable.
Scan through the rest of the logs to ensure there are no worrying
warnings or errors.</p>
<p>Once you have explicitly run the first two steps to ensure there are no
errors, you can run the remaning steps.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-tut08-sort
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>%<span class="w"> </span><span class="m">03</span>-synopsys-vcs-ffglsim
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>%<span class="w"> </span><span class="m">04</span>-cadence-innovus-pnr
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>%<span class="w"> </span><span class="m">05</span>-synopsys-vcs-baglsim
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>%<span class="w"> </span><span class="m">06</span>-synopsys-pt-pwr
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>%<span class="w"> </span><span class="m">07</span>-summarize-results
</span></code></pre></div>
<h3 id="22-running-asic-flow-with-all-tests-and-evals">2.2. Running ASIC Flow with All Tests and Evals</h3>
<p>If all looks good, then you can regenerate the with all of the tests and
evals. <strong>pyhflow will also create a <code>run-flow</code> script which will run all
of the steps in sequence for you, but only use this if you are confident
there are no errors!</strong></p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-tut08-sort
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>%<span class="w"> </span>pyhflow<span class="w"> </span>../designs/tut08-sort.yml
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>%<span class="w"> </span>./run-flow
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w"> </span><span class="nv">timestamp</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="m">2025</span>-02-19<span class="w"> </span><span class="m">22</span>:14:30
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w"> </span><span class="nv">design_name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>SortUnitStruct__p_nbits_8
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w"> </span><span class="nv">clock_period</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.7
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="w"> </span><span class="nv">rtlsim</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="m">7</span>/7<span class="w"> </span>passed
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="w"> </span><span class="nv">synth_setup_slack</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.0089<span class="w"> </span>ns
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="w"> </span><span class="nv">synth_num_stdcells</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">461</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="w"> </span><span class="nv">synth_area</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="m">785</span>.498<span class="w"> </span>um^2
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="w"> </span><span class="nv">ffglsim</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="m">7</span>/7<span class="w"> </span>passed
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="w"> </span><span class="nv">pnr_setup_slack</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.0683<span class="w"> </span>ns
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="w"> </span><span class="nv">pnr_hold_slack</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.0102<span class="w"> </span>ns
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="w"> </span><span class="nv">pnr_num_stdcells</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="m">609</span>
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="w"> </span><span class="nv">pnr_area</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="m">930</span>.202<span class="w"> </span>um^2
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a><span class="w"> </span><span class="nv">baglsim</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="m">7</span>/7<span class="w"> </span>passed
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a>
</span><span id="__span-15-19"><a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a><span class="w"> </span>SortUnitStruct__p_nbits_8_sort-sim-rtl-struct-random
</span><span id="__span-15-20"><a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a><span class="w">  </span>-<span class="w"> </span><span class="nv">exec_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">106</span><span class="w"> </span>cycles
</span><span id="__span-15-21"><a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a><span class="w">  </span>-<span class="w"> </span><span class="nv">exec_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">74</span>.5750<span class="w"> </span>ns
</span><span id="__span-15-22"><a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="w">  </span>-<span class="w"> </span><span class="nv">power</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="m">2</span>.9100<span class="w"> </span>mW
</span><span id="__span-15-23"><a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a><span class="w">  </span>-<span class="w"> </span><span class="nv">energy</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>.2170<span class="w"> </span>nJ
</span></code></pre></div>
<p>The final step summarizes the results and includes the following
information.</p>
<ul>
<li>Timestamp</li>
<li>Design name</li>
<li>Clock period in ns</li>
<li>Four-state RTL simulation results</li>
<li>Synthesis setup slack in ns</li>
<li>Synthesis num stdcells</li>
<li>Synthesis area in um^2</li>
<li>Fast-functional gate-level simulation results</li>
<li>Place-and-route setup slack in ns</li>
<li>Place-and-route hold slack in ns</li>
<li>Place-and-route num stdcells</li>
<li>Place-and-route area in um^2</li>
<li>Back-annotated gate-level simulation results</li>
<li>For each evaluation<ul>
<li>Execution time in cycles</li>
<li>Execution time in ns</li>
<li>Power in mW</li>
<li>Energy in nJ</li>
</ul>
</li>
</ul>
<p>For the results to be valid, the following must be true:</p>
<ul>
<li>all four-state RTL simulations pass</li>
<li>all fast-functional gate-level simulations pass</li>
<li>all back-annotated gate-level simulations pass</li>
<li>place-and-route setup slack is positive</li>
<li>place-and-route hold slack is positive</li>
</ul>
<p>If your design does not meet timing after synthesis but <em>does</em> meet
timing after place-and-route then these are still valid results. It just
means Synopsys DC was conservative and/or Cadence Innovus did a good job
further optimizing the design.</p>
<h3 id="23-debugging-issues">2.3. Debugging Issues</h3>
<p>Every step logs its output to a <code>run.log</code> file. The four-state RTL
simulation, fast-functional gate-level simulation, and back-annotated
gate-level simulation save the output of each simulation in a separate
log file and also save a VCD file.</p>
<p>If you pass two-state RTL simulation but fail four-state RTL simulation
then the likely cause is either Verilog syntax that Synopsys VCS does not
like (e.g., using signals before they are declared), mishandling register
initialization, not handling inputs which are X correctly, and/or not
forcing the outputs to always be known values (i.e., you cannot produces
Xs on the outputs of your block after reset). Use Surfer and start from
the observable error and work backwards through your design in both space
and time. If you are seeing Xs in the output work backwards to try and
figure out where these Xs are coming from.</p>
<p>If you pass two-state RTL simulation and four-state RTL simulation but
fail fast-functional gate-level simulation then the likely cause is some
kind of synthesis issue such as inferred latches, parts of your design
are being optimized away incorrectly, or the Synopsys DC TCL script has
an issue. While you can look at waveforms for gate-level simulation it is
not fun; it might be best to carefully look through the <code>run.log</code> file
for the synthesis step first.</p>
<p>If you pass two-state RTL simulation, four-state RTL simulation,
fast-functional gate-level simulation, and your design has positive setup
and hold slack after place-and-route then the likely cause is the Cadence
Innovus TCL script has an issue. While you can look at waveforms for
gate-level simulation it is not fun; it might be best to carefully look
through the <code>run.log</code> file for the place-and-route step first.</p>
<h3 id="24-interactive-debugging">2.4. Interactive Debugging</h3>
<p>You can use Synopsys DV to look at the synthesis results as follows.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-tut08-sort
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>%<span class="w"> </span>design_vision-xg
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>design_vision&gt;<span class="w"> </span>set_app_var<span class="w"> </span>target_library<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$env</span><span class="s2">(ECE6745_STDCELLS)/stdcells.db&quot;</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>design_vision&gt;<span class="w"> </span>set_app_var<span class="w"> </span>link_library<span class="w">   </span><span class="s2">&quot;* </span><span class="nv">$env</span><span class="s2">(ECE6745_STDCELLS)/stdcells.db&quot;</span>
</span></code></pre></div>
<p>You can use the following steps to open the <code>.ddc</code> file generated during
synthesis.</p>
<ul>
<li>Choose <em>File &gt; Read</em> from the menu</li>
<li>Open the <code>02-synopsys-dc-synth/post-synth.dcc</code> file</li>
</ul>
<p>However, we don't usually find using Synopsys DV to be that helpful.</p>
<p>It is far more helpful to use Cadence Innovus to debug your physical
design including highlighting modules and paths to see where they are
located in the block. You can reload the design into Cadence Innovus as
follows.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-tut08-sort
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>%<span class="w"> </span>innovus
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>innovus&gt;<span class="w"> </span><span class="nb">source</span><span class="w"> </span><span class="m">04</span>-cadence-innovus-pnr/post-pnr.enc
</span></code></pre></div>
<p>You can use the Amobea workspace to help visualize how modules are mapped
across the chip. Choose <em>Windows &gt; Workspaces &gt; Amoeba</em> from the menu.
However, we recommend using the design browser to help visualize how
modules are mapped across the chip. Here are the steps:</p>
<ul>
<li>Choose <em>Windows &gt; Workspaces &gt; Design Browser + Physical</em> from the menu</li>
<li>Hide all of the metal layers by pressing the number keys</li>
<li>Browse the design hierarchy using the panel on the left</li>
<li>Right click on a module, click <em>Highlight</em>, select a color</li>
</ul>
<p>You can use the following steps in Cadence Innovus to display where the
critical path is on the actual chip.</p>
<ul>
<li>Choose <em>Timing &gt; Debug Timing</em> from the menu</li>
<li>Click <em>OK</em> in the pop-up window</li>
<li>Right click on first path in the <em>Path List</em></li>
<li>Choose <em>Highlight &gt; Only This Path &gt; Color</em></li>
</ul>
<p>Finally, you can use Klayout to capture a screen shot demonstrating that
you have successfully taken a design from RTL to layout.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/asic/build-tut08-sort
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>%<span class="w"> </span>klayout<span class="w"> </span>-l<span class="w"> </span><span class="nv">$ECE6745_STDCELLS</span>/klayout.lyp<span class="w"> </span><span class="m">04</span>-cadence-innovus-pnr/post-pnr.gds
</span></code></pre></div>
<h3 id="25-key-reports">2.5. Key Reports</h3>
<p>Here is a list of key reports.</p>
<ul>
<li>02-synopsys-dc-synth/timing.rpt</li>
<li>02-synopsys-dc-synth/area.rpt</li>
<li>02-synopsys-dc-synth/resources.rpt</li>
<li>04-cadence-innovus-pnr/timing-setup.rpt</li>
<li>04-cadence-innovus-pnr/timing-hold.rpt</li>
<li>04-cadence-innovus-pnr/area.rpt</li>
<li>06-synopsys-pt-pwr/*-summary.rpt</li>
<li>06-synopsys-pt-pwr/*-detailed.rpt</li>
</ul>
<p>You can use the synthesis resources report to determine if Synospys DC
has used DesignWare components to optimize parts of your design. You can
learn more about all of the DesignWare components here:</p>
<ul>
<li><a href="https://web.csl.cornell.edu/courses/ece6745/asicdocs/dwbb_datasheets">https://web.csl.cornell.edu/courses/ece6745/asicdocs/dwbb_datasheets</a></li>
</ul>
<p>You can use the place-and-route timing setup report to determine the
critical path in your design and the delay of every component along this
critical path. You can use the place-and-route area reprot to determine
the area of every module in your design. You can use the detailed power
reports to determine the power consumption of every module in your
design.</p>
<h2 id="3-to-do-on-your-own">3. To Do On Your Own</h2>
<p>Now we can use what you have learned so far to push the GCD unit through
the ASIC automted flow. First, run all of the tests for theGCD unit.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TOPDIR</span>/sim/build
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>%<span class="w"> </span>pytest<span class="w"> </span>../tut3_verilog/gcd/test<span class="w"> </span>--test-verilog<span class="w"> </span>--dump-vtb
</span></code></pre></div>
<p>Then run three interactive simulations for our evaluation.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>%<span class="w"> </span>../tut3_verilog/gcd/gcd-sim<span class="w"> </span>--impl<span class="w"> </span>rtl<span class="w"> </span>--input<span class="w"> </span>random<span class="w"> </span>--stats<span class="w"> </span>--translate<span class="w"> </span>--dump-vtb
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>%<span class="w"> </span>../tut3_verilog/gcd/gcd-sim<span class="w"> </span>--impl<span class="w"> </span>rtl<span class="w"> </span>--input<span class="w"> </span>small<span class="w">  </span>--stats<span class="w"> </span>--translate<span class="w"> </span>--dump-vtb
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>%<span class="w"> </span>../tut3_verilog/gcd/gcd-sim<span class="w"> </span>--impl<span class="w"> </span>rtl<span class="w"> </span>--input<span class="w"> </span>zeros<span class="w">  </span>--stats<span class="w"> </span>--translate<span class="w"> </span>--dump-vtb
</span></code></pre></div>
<p>Then you can use pyhflow to push the GCD unit through the flow.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>%<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="si">${</span><span class="nv">TOPDIR</span><span class="si">}</span>/asic/build-tut08-gcd
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">TOPDIR</span><span class="si">}</span>/asic/build-tut08-gcd
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>%<span class="w"> </span>pyhflow<span class="w"> </span>../designs/tut08-gcd.yml
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>%<span class="w"> </span>./01-synopsys-vcs-rtlsim/run
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>%<span class="w"> </span>./02-synopsys-dc-synth/run
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>%<span class="w"> </span>./03-synopsys-vcs-ffglsim/run
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>%<span class="w"> </span>./04-cadence-innovus-pnr/run
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>%<span class="w"> </span>./05-synopsys-vcs-baglsim/run
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>%<span class="w"> </span>./06-synopsys-pt-pwr/run
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>%<span class="w"> </span>./07-summarize-results/run
</span></code></pre></div>
<p>Or use the <code>run-flow</code> script to run the entire flow with a single
command.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>%<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span><span class="si">${</span><span class="nv">TOPDIR</span><span class="si">}</span>/asic/build-tut08-gcd
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">TOPDIR</span><span class="si">}</span>/asic/build-tut08-gcd
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>%<span class="w"> </span>pyhflow<span class="w"> </span>../designs/tut08-gcd.yml
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>%<span class="w"> </span>./run-flow
</span></code></pre></div>
<p>Compare the energy of the three evaluations. Look at the following
reports to understand the critical path and area breakdown.</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="si">${</span><span class="nv">TOPDIR</span><span class="si">}</span>/asic/build-tut08-gcd
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>%<span class="w"> </span>cat<span class="w"> </span><span class="m">04</span>-cadence-innovus-pnr/timing-setup.rpt
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>%<span class="w"> </span>cat<span class="w"> </span><span class="m">04</span>-cadence-innovus-pnr/area.rpt
</span></code></pre></div>
<p>Use the Cadence Innovus GUI to highlight the datapath vs control modules.
Use klayout to look at the final layout. Then try to push the clock
period lower to see if the block can operate at a higher clock frequency
while still meeting timing and passing all of the tests.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Christopher Batten
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "content.code.copy"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../js/extras.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.1.0/skins/default.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.1.0/wavedrom.min.js"></script>
      
        <script src="../js/wavedrom_loader.js"></script>
      
    
  </body>
</html>